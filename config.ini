# config.ini
# Configuration file for Morpher tool

#########################################################################
# This section contains directory paths
# DATA - path to the directory that will hold files generated by Morpher,
#        such as the XML model file and crash dumps
# TOOLS - path to the directory containing Morpher executables
# LOGS - path to the directory for storing log files
#########################################################################

[directories]
DATA  = %(BASEDIR)s\data
TOOLs = %(BASEDIR)s\tools
LOGS  = %(BASEDIR)s\logs

#########################################################################
# This section contains logging options
# ENABLED - 'yes' to enable logging, 'no' to disable
# LEVEL - verbosity of logs - {debug | info | warning | error | critical}
#########################################################################

[logging]
ENABLED = yes
LEVEL   = debug

#########################################################################
# This section contains parsing options
# ENABLED - 'yes' to enable parsing, 'no' to disable (in which case a 
#           model.xml file needs to be present in the DATA directory)
# HEADERPATH - path to the header file describing the target DLL
# PRECOMPPATH - path to the c precompiler executable
# COMPFLAGS - flags to pass to the c precompiler
#########################################################################

[parser]
ENABLED     = yes
HEADERPATH  = %(BASEDIR)s\junk\testdll.h
PRECOMPPATH = %(BASEDIR)s\tools\tcc\tcc.exe
COMPFLAGS   = -E

#########################################################################
# This section contains directory paths
# ENABLED - 'yes' to enable collecting, 'no' to disable (in which case 
#           traces need to be present in the DATA\traces directory)
# LIST - path to the list file containing a command on each line that,
#        when run under the command shell, starts a program using the DLL
# STACK_ALIGN - the alignment requirement for the stack on this system
# TIMEOUT - Number of seconds a program from the list file is allowed to
#           run before a timeout is assumed and the program is killed
# COPY_LIMIT - Maximum number of snapshots that should be recorded for
#              any single function in the DLL
#########################################################################

[collector]
ENABLED     = yes
LIST        = %(BASEDIR)s\data\list.txt
STACK_ALIGN = 4
TIMEOUT     = 15
COPY_LIMIT  = 5

#########################################################################
# This section contains fuzzing options
# ENABLED - 'yes' to enable fuzzing, 'no' to disable 
# TARGET - path to the DLL to fuzz
# DLL_TYPE - The calling convention for the DLL - 'cdecl' or 'stdcall'
# TIMEOUT - Number of seconds the DLL function can run before its 
#           considered to have hung
# FUZZ_POINTERS - Whether or not to fuzz pointer values
# SNAPSHOT_MODE - whether objects in a single recorded API call are all
#                 fuzzed at the same time or sequentially {simultaneous | 
#                 sequential}
# TRACE_MODE - whether snapshots in a single trace record are all fuzzed at 
#              the same time or sequentially {simultaneous | sequential}
# MUTATIONAL - 'on' enables mutational fuzzing of traces, 'off' disables
# MUTATE_RANGE - Integer range of values to fuzz around original value
#                when performing mutational fuzzing of traces
# HEURISTIC - 'on' enables heurisitic data type fuzzing, 'off' disables
# RANDOM - 'on' enables fuzzing with random values, 'off' disables
# RANDOM_CASES - Number of random values to try per tag when fuzzing
#########################################################################

[fuzzer]
ENABLED       = yes
TARGET        = %(BASEDIR)s\junk\libTestDLL.dll
DLL_TYPE      = cdecl
TIMEOUT       = 5
FUZZ_POINTERS = no
SNAPSHOT_MODE = sequential
TRACE_MODE    = sequential
MUTATIONAL    = off
MUTATE_RANGE  = 4
HEURISTIC     = on
RANDOM        = off
RANDOM_CASES  = 10

